<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>T.A.R.A Safety Intelligence</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

body{
background:#04060d;
color:white;
font-family:Arial;
text-align:center;
margin:0;
}

/* AVATAR */

#avatarContainer{

margin-top:25px;

position:relative;

}

#avatar{

width:200px;

border-radius:50%;

}

#ring{

position:absolute;

top:50%;

left:50%;

transform:translate(-50%,-50%);

width:240px;

height:240px;

border-radius:50%;

border:3px solid #00ffc3;

opacity:.4;

animation:pulse 4s infinite;

}

.talking{

animation:talk .6s infinite alternate;

}

@keyframes pulse{

0%{transform:translate(-50%,-50%) scale(1);}
50%{transform:translate(-50%,-50%) scale(1.05);}
100%{transform:translate(-50%,-50%) scale(1);}

}

@keyframes talk{

from{transform:translate(-50%,-50%) scale(1);}
to{transform:translate(-50%,-50%) scale(1.15);}

}


/* CHAT */

#chat{

height:420px;

max-width:600px;

margin:20px auto;

background:#0c1220;

padding:15px;

border-radius:10px;

overflow-y:auto;

text-align:left;

}


.user{

background:#1b2540;

padding:12px;

margin:8px;

border-radius:8px;

}


.tara{

background:#00ffc3;

color:black;

padding:12px;

margin:8px;

border-radius:8px;

}


/* INPUT */

#question{

width:60%;

padding:14px;

font-size:16px;

border-radius:6px;

border:none;

}

button{

padding:14px 20px;

font-size:16px;

margin:5px;

border:none;

border-radius:6px;

cursor:pointer;

}

#askBtn{

background:#00ffc3;

}

#voiceBtn{

background:orange;

}


/* LOGO */

#logo{

width:130px;

margin-top:20px;

}


/* COPYRIGHT */

#copyright{

font-size:12px;

opacity:.6;

margin-top:30px;

margin-bottom:10px;

}

</style>
</head>

<body>


<h2>T.A.R.A Safety Intelligence</h2>


<div id="avatarContainer">

<div id="ring"></div>

<img id="avatar" src="tara-avatar.png">

</div>



<div id="chat"></div>



<input id="question" placeholder="Ask T.A.R.A about towing safety">

<br>

<button id="askBtn">Send</button>

<button id="voiceBtn">ðŸŽ¤ Speak</button>



<img id="logo" src="taralogo.jpg">



<div id="copyright">

Powered by Safety Intelligence<br>
Test Prototype â€” In Development<br>
Â© Safety Buzz Alerts. All rights reserved.

</div>



<script>

const chat=document.getElementById("chat");
const input=document.getElementById("question");
const ring=document.getElementById("ring");


function add(text,cls){

const div=document.createElement("div");

div.className=cls;

div.innerText=text;

chat.appendChild(div);

chat.scrollTop=chat.scrollHeight;

}


function speak(text){

const s=new SpeechSynthesisUtterance(text);

s.onstart=()=>ring.classList.add("talking");

s.onend=()=>ring.classList.remove("talking");

speechSynthesis.speak(s);

}


async function ask(){

const q=input.value.trim();

if(!q)return;

add("You: "+q,"user");

input.value="";


add("T.A.R.A is analyzing...","tara");


const res=await fetch("/ask",{

method:"POST",

headers:{"Content-Type":"application/json"},

body:JSON.stringify({question:q})

});


const data=await res.json();


chat.lastChild.remove();

add("T.A.R.A: "+data.answer,"tara");

speak(data.answer);

}


askBtn.onclick=ask;


input.addEventListener("keypress",e=>{

if(e.key==="Enter")ask();

});


if("webkitSpeechRecognition"in window){

const rec=new webkitSpeechRecognition();

rec.onresult=e=>{

input.value=e.results[0][0].transcript;

ask();

};

voiceBtn.onclick=()=>rec.start();

}

</script>

</body>
</html>
